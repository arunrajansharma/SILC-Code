START
MOV SP,0
MOV BP,0
IN R0
MOV R2,BP
MOV R1,4
ADD R2,R1
MOV [R2],R0
I0:
MOV R2,BP
MOV R3,4
ADD R2,R3
MOV R1,[R2]
MOV R2,5
LT  R1,R2
JZ R1,E0
MOV R1,100
OUT R1
JMP EI0
E0:
MOV R1,50
OUT R1
EI0:
IN R1
MOV R3,BP
MOV R2,1
ADD R3,R2
MOV [R3],R1
I1:
MOV R3,BP
MOV R4,1
ADD R3,R4
MOV R2,[R3]
MOV R3,5
LT  R2,R3
JZ R2,E1
MOV R2,400
OUT R2
JMP EI1
E1:
MOV R2,30
OUT R2
EI1:
IN R2
MOV R4,BP
MOV R3,5
ADD R4,R3
MOV [R4],R2
W0:
MOV R4,BP
MOV R5,5
ADD R4,R5
MOV R3,[R4]
MOV R4,5
LT  R3,R4
JZ R3,EW0
IN R2
MOV R4,BP
MOV R3,3
ADD R4,R3
MOV [R4],R2
IN R2
MOV R4,BP
MOV R3,4
ADD R4,R3
MOV [R4],R2
MOV R2,BP
MOV R3,5
ADD R2,R3
MOV R4,BP
MOV R5,5
ADD R4,R5
MOV R3,[R4]
MOV R4,1
ADD R3,R4
MOV [R2],R3
JMP W0
EW0:
MOV R2,999
OUT R2
MOV R3,BP
MOV R4,3
ADD R3,R4
MOV R2,[R3]
OUT R2
HALT